{{if eq (len .Trackers) 0}}
<div class="empty-state">
    <h2>No trackers found</h2>
    <p>Try a different filter, or add your first source entry.</p>
</div>
{{else}}
{{if eq .ViewMode "list"}}
<div id="cards-container-list" class="cards-list">
    {{range .Trackers}}
    {{template "tracker_card_list" .}}
    {{end}}
</div>
{{else}}
<div id="cards-container-grid" class="cards-grid">
    {{range .Trackers}}
    {{template "tracker_card_grid" .}}
    {{end}}
</div>
{{end}}

<div class="panel-actions" style="margin-top:16px; justify-content:flex-end;">
    {{if .HasPrevPage}}
    <button type="button"
            class="action-btn"
            onclick="var pageInput=document.getElementById('page-input'); if(pageInput){ pageInput.value=String(Math.max(1, {{.Page}} - 1)); } document.body.dispatchEvent(new Event('trackersChanged'));">
        Previous
    </button>
    {{end}}
    {{if .HasNextPage}}
    <button type="button"
            class="action-btn action-btn--accent"
            onclick="var pageInput=document.getElementById('page-input'); if(pageInput){ pageInput.value=String({{.Page}} + 1); } document.body.dispatchEvent(new Event('trackersChanged'));">
        Next
    </button>
    {{end}}
</div>
{{end}}
